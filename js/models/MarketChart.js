import CoinGecko from "../services/CoinGecko.js";

export default class MarketChart {
  constructor(json) {
    this.timestamp = json.id;
    this.price = json.name;
  }

  static async find(token, vs_currency, days, interval) {
    try {
      const data = await CoinGecko.query("coins/" + token + "/market_chart", {
        vs_currency,
        days,
        interval,
      });
      return data.prices;
    } catch (error) {
      return [
        [1678651201905, 0.012685488506053926],
        [1678654803406, 0.012682219774139386],
        [1678658404376, 0.01268974446479664],
        [1678662048070, 0.012673711515852924],
        [1678665732959, 0.012683978815771813],
        [1678669296586, 0.012632588676685654],
        [1678672930800, 0.012640347188955979],
        [1678676523842, 0.012685350740538729],
        [1678680054074, 0.012700043929228492],
        [1678683727950, 0.013221617027243298],
        [1678687332611, 0.01321588982402929],
        [1678690924568, 0.013176805255036709],
        [1678694523199, 0.013177572553048324],
        [1678698024565, 0.013208374698186174],
        [1678701833979, 0.012611981098891414],
        [1678705236062, 0.012604459184133792],
        [1678708813801, 0.012615729617622388],
        [1678712559389, 0.012610547216192142],
        [1678716217127, 0.01256696695873153],
        [1678719779132, 0.012518465942621015],
        [1678723218282, 0.012449015480461356],
        [1678726908952, 0.012396329173956121],
        [1678730411462, 0.012376961165677566],
        [1678734077418, 0.01233236639975991],
        [1678735425000, 0.012363479586019119],
      ];
    }
  }
}
